{
   // Use IntelliSense to find out which attributes exist
   // Use hover for the description of the existing attributes
   // For further information visit https://github.com/OmniSharp/omnisharp-vscode/blob/master/debugger-launchjson.md

   "version": "0.2.0",
   "compounds": [
    {
        "name": ".Net Core With FE Debugging in VSCode",
        "configurations": [
            ".NET Core Launch",
            "Launch Chrome"
        ]
    }],
   "configurations": [
        {
            "name": ".NET Core Launch",
            "type": "coreclr",
            "request": "launch",
            "logging": {
                "logging.diagnosticsLog.protocolMessages": false,
                "moduleLoad": false,
                "exceptions": false,
                "browserStdOut": false,
            },
            "preLaunchTask": "Build ModelRelief",
            // If you have changed target frameworks, make sure to update the program path.
            "program": "${workspaceFolder}/ModelRelief/bin/Debug/netcoreapp3.1/ModelRelief.dll",
            "args": [],
            "cwd": "${workspaceFolder}/ModelRelief",
            "stopAtEntry": false,
            "enableStepFiltering": false,
            // 'externalTerminal' will not launch the browser. It is necessary to manually start the browser.
            // 'internalConsole' does not support Console.ReadLine so user verification steps are not possible.
            "console": "integratedTerminal",

            // Debug Console
            "internalConsoleOptions": "openOnSessionStart",
            "env": {
                "ASPNETCORE_ENVIRONMENT": "Development",
                "ASPNETCORE_HOSTINGSTARTUPASSEMBLIES": "Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation",
                "MRDatabaseProvider": "SQLite",
                "MRUpdateSeedData": "False",
                "MRInitializeDatabase": "True",
                "MRSeedDatabase": "True",
                "MRExitAfterInitialization": "False",
            },
            "requireExactSource": true
        },

        {
            "name": ".NET Core Attach to Process",
            "type": "coreclr",
            "request": "attach",
            "processId": "${command:pickProcess}",
            "logging": {
                "logging.diagnosticsLog.protocolMessages": false,
                "moduleLoad": false,
                "exceptions": false,
                "browserStdOut": false,
            },
        },

        {
            "name": "Launch Chrome",
            "type": "chrome",
            "request": "launch",
            "url": "http://localhost:5000/",
            "webRoot": "${workspaceFolder}/ModelRelief/wwwroot",
            "sourceMaps": true
            // N.B. outFiles, outDir are not recognized by Intellisense.
            // "outDir": "${workspaceFolder}/ModelRelief/wwwroot/js"
        },


        {
            "name": "Python",
            "type": "python",
            "request": "launch",
            "python": "${command:python.interpreterPath}",
            "stopOnEntry": false,
            "console": "integratedTerminal",

            "cwd": "${workspaceFolder}",
            "env": {
                "name": "value"
            },
            "autoReload": {
                "enable": true
            },

        //  ----- Tools
        //  "program": "${workspaceFolder}/Tools/testrunner.py",
        //  "program": "${workspaceFolder}/Tools/linecount.py",

        //  "program": "${workspaceFolder}/Tools/pngwriter.py",
        //  "args":["--file", "${workspaceFolder}/ModelRelief/store/development/users/auth05bedab58aa237e078600530b/depthbuffers/1/armadillo.sdb", "--format", "grayscale"]
        //  "args":["--file", "${workspaceFolder}/ModelRelief/store/development/users/auth05bedab58aa237e078600530b/normalmaps/3/bunny.nmap", "--format", "rgba"]

        //  ----- Build
        // "program": "${workspaceFolder}/Build/Builder.py",
        // "args":["--target", "Nginx", "--publish", "True"]

        //  ----- Explorer
        "program": "${workspaceFolder}/Explorer/explorer.py",
        "args":["--s", "../Solver/Test/discus.json", "--w", "../Solver/Test/Working"]

        //  ----- Solver
        //  "program": "${workspaceFolder}/Solver/solver.py",
        //  "args":["--s", "Test/discus.json", "--w", "Test/Working"],

        //  ----- Relief C++ Extensions
        //  "program": "${workspaceFolder}/Relief/tests/python/benchmark.py",
        //  "program": "${workspaceFolder}/Relief/tests/python/relieftest.py",

        //  setup.py must be run from the Relief folder as the CMake paths are all relative to Relief.
        //  "program": "${workspaceFolder}/Relief/setup.py",
        //  "args":["build", "install"]

        //  ----- Experiments
        //  "program": "${workspaceFolder}/Solver/Experiments/pybind11test.py",
        //  "program": "${workspaceFolder}/Solver/Experiments/workbench.py",
        //  "program": "${workspaceFolder}/Solver/Experiments/mayavitest.py",

        //  ----- Generator
        //  "program": "${workspaceFolder}/Tools/generator.py",
        //  "args":[]

        // "args":[]
        },

        {
            "name": "Python (active file)",
            "type": "python",
            "request": "launch",
            "python": "${command:python.interpreterPath}",
            "stopOnEntry": false,
            "console": "integratedTerminal",
            "program": "${file}",
            "cwd": "${workspaceFolder}",
            "env": {
                "name": "value"
            },
            "args":[]
        },

        {
            "name": "Python Attach",
            "type": "coreclr",
            "request": "attach",
            "processId": "${command:pickProcess}",
        },

        {
            "name": "node workbench",
            "type": "node",
            "request": "launch",
            "program": "${workspaceFolder}/ModelRelief/Workbench/Node/workbench.js"
        },
        {
            "name": "node (active file)",
            "type": "node",
            "request": "launch",
            "program": "${file}",
        },
        {
            "name": "npx ts-node (TypeScript active file)",
            "type": "node",
            "request": "launch",
            "program": "${workspaceFolder}/node_modules/ts-node/dist/bin.js",
            "args": ["${file}"],
        },
        {
            "name": "gulp Debug",
            "type": "node",
            "request": "launch",
            "program": "${workspaceFolder}/node_modules/gulp/bin/gulp.js",
            "args" : ["serve"],
            "cwd": "${workspaceFolder}/ModelRelief",
//          "stopOnEntry": true
        },

        {
            "name": "(gdb) Debug Relief Unit Tests",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/Relief/tests/bin/reliefUnitTests",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ]
        },
    ]
}