<-- Commit Notes

<-- Tasks

    Perform server logging.
    Throwing policy.
        https://stackoverflow.com/questions/2999298/difference-between-throw-and-throw-new-exception        

<-- API 
    IResourcesProvider
        HTTP Verb   API             CRUD
        Get         GetAll, Find    Read 
        Post        Create          Create 
        Put         Update          Update 
        Delete      Delete          Delete

    Is a mult-part form required to post both the JSON attributes as well as the file data?

    Design Guidelines
        General
            https://blog.octo.com/en/design-a-rest-api/
            http://blog.restcase.com/5-basic-rest-api-design-guidelines/
            https://blog.octo.com/wp-content/uploads/2014/12/OCTO-Refcard_API_Design_EN_3.0.pdf
            https://stackoverflow.com/questions/37423468/lowercase-urls-in-net-core-rc2
        Images
            https://stackoverflow.com/questions/33279153/rest-api-file-ie-images-processing-best-practices
        Documentation
            https://github.com/domaindrivendev/Swashbuckle.AspNetCore

    Goal : Roundtrip a scaled mesh.
        Scale with a Python processor.

    Create a utility URL composer.

    Should the URL path DepthBuffer be hyphenated?
        depth-buffer

    Model3d->Model ?
        Are there any potential conflicts with the ASPNET Model property in views?
        Differentiated through namespace?

    API authentication.
        
    URI Resources
        model
        mesh
        depth-buffer
        camera
        mesh-transform
    
    Existing Resources can be referenced through:
        JSON properties
        query parameters

    Relief Post: Process a relief from a DepthBuffer.
        HTTP Request
            MeshTransform Id
            DepthBuffer Id
        HTTP Response
            URL (DepthBuffer)
            URL (Mesh)

    Base64 encoding for HttpRequest.
        https://github.com/beatgammit/base64-js
        https://github.com/hughsk/tab64
    
        How is byte ordering (little/big endian) handled in HTTP requests?
            http://calculist.org/blog/2012/04/25/the-little-endian-web/

    Image File Creation
        ImageSharp
        Create a 16 bit PNG from the depth data.

    Export    
        Refactor FileSave to use async/await.

    Experiment with precision setting in THREE.WebGLRenderer.

<-- File Transfers
        JavaScript
            These solutions are for saving files on the client (not server) side/.
                https://github.com/eligrey/FileSaver.js/
                https://github.com/jimmywarting/StreamSaver.js

<-- Image processing
    Images in ASPNET
        https://github.com/SixLabors/ImageSharp
        https://blogs.msdn.microsoft.com/dotnet/2017/01/19/net-core-image-processing/
        https://andrewlock.net/using-imagesharp-to-resize-images-in-asp-net-core-a-comparison-with-corecompat-system-drawing/

<-- MVC

    Viewer.cshtml
        Models
            3D Model
            DepthBuffer

        Views
            ComposerView

            ModelView
                ModelViewer
                    ModelViewerControls
            MeshView
                MeshViewer
                    MeshViewerControls

        Controllers
            ComposerController
            (ModelController)
            (MeshController)


<-- Viewer

    Progress Indicator
    OrbitControls versus Trackball

    Add MaterialLoader.

    Create a set of sample materials such as wood, glass, plaster, etc.

    Camera
        Why does the View change slightly after the 2nd Fit View?
            This happens only if the view has been <panned>.

<-- Optimization

    Optimize BoundingBox procesing.

    Profiling
        Install additional IIS components?

    Memory management!
        https://blog.sessionstack.com/how-javascript-works-memory-management-how-to-handle-4-common-memory-leaks-3f28b94cfbec

<-- Tools

    Webpack

<-- ASPNET Core

    What is the cause of these NET Warnings? They seem to be related to the Entity Framework.
        1701;1702;1705

<-- Debugging Workflows

    Command Line
        FE: Chrome   BE: VSCode  TypeScript: automatic  Reload: automatic
            dotnet run
            gulp serve (automatic TypeScript/reload)
            VSCode Profile: .NET Core Attach
                Edit launch.json to set processId!

    VSCode Profile: .Net Core With Browser
        FE: VSCode   BE: VSCode  TypeScript: DNW  Reload: DNW

    VSCode Profile: .Net Core Launch (web)
        FE: Chrome   BE: VSCode  TypeScript: DNW  Reload: DNW

    VSCode Profile: .NET Core Attach
        Edit launch.json to set processId!
        https://github.com/OmniSharp/omnisharp-vscode/issues/897
        An error happens running the command below. It should open a UI to pick the process.
            D:\Users\Steve Knipmeyer\Documents\GitHub\ModelRelief\ModelRelief>wmic process get Name,ProcessId,CommandLine
            Invalid XML content.
    
    VSCode Resources
        https://stackoverflow.com/questions/43628397/debug-typescript-in-vscode-with-asp-net-core
        https://code.visualstudio.com/blogs/2016/02/23/introducing-chrome-debugger-for-vs-code
        https://github.com/Microsoft/vscode-chrome-debug


<-- Depth Buffer Notes

    Precision is substantially improved by moving the Near plane as close to the model as possible.
        Pulling in the Far plane does not seem to improve the precision.

    The range of the depth buffer is based on the distance between the Near and Far planes. 
        If the Near and Far planes bound the model, the range will be [0.1].


<-- Database Design   

    Users
        Id

    Model3d
        Id
        Name
        Description
        Path
        Format (OBJ, STL)

    Mesh (or Relief?)
        Id
        Name
        Description
        Path
        Format (OBJ, STL)
    
     Scene
        Id
        Name
        Description

        Model Id
        Material Id
        Lighting Id
        Camera Id

    MeshTransform
        Id
        Name
        Description

        Depth
        Width : Height = Height(Aspect, Base)
        
        Tau Threshold
        Sigma1 Gaussian Blur 
        Sigma2 Gaussian Smooth
        Lambda Linear Scaling

    Project
        Id
        Name
        Description

        Scene Id
        MeshTransform Id
       
    Images
        Id
        Name
        Path
        Type (Depth, Mask)
        Format (PNG, JPG, EXR)

     Materials
        Id
        Name

     Lighting
        Light[]      

    SQL Server Studio
        http://nikgupta.net/2015/12/10/connect-localdb-from-management-studio/

        C:\Program Files\Microsoft SQL Server\130\Tools\Binn
            λ SqlLocalDB.exe info MSSQLLOCALDB
            Name:               MSSQLLocalDB
            Version:            13.1.4001.0
            Shared name:
            Owner:              VECTOR\Steve Knipmeyer
            Auto-create:        Yes
            State:              Running
            Last start time:    9/19/2017 6:57:25 AM
            Instance pipe name: np:\\.\pipe\LOCALDB#9A6B632F\tsql\query

<-- Git
    TBD

<-- TypeScript

    How can a subclass call the property (method) of a super class?
        https://github.com/Microsoft/TypeScript/issues/4465
        ModelViewer extends Viewer
            set model (model : THREE.Object) {
                super.model(model);     // not valid
            }            

    TypeScript Typings management
        Where is the Visual Studio instance of node.s installed?
            "C:\Program Files (x86)\Microsoft Visual Studio 14.0\Common7\IDE\Extensions\Microsoft\Web Tools\External"
            Where are the Visual Studio (automatic) npm typings?
                C:\Users\Steve Knipmeyer\AppData\Local\Microsoft\TypeScript\node_modules\@types
                https://stackoverflow.com/questions/42663010/typescript-in-visual-studio-2017-automatic-definition-inclusion-causes-duplicat
                https://blogs.msdn.microsoft.com/visualstudio/2016/11/28/more-productive-javascript-in-visual-studio-2017-rc/
                    (Note: This feature is disabled by default if using a tsconfig.json configuration file

        var uint8Array = new Uint8Array((<any>fileDataObj.target).result);
            EventTarget does not contain a member result.
            https://github.com/Microsoft/TSJS-lib-generator/pull/207
            https://github.com/Microsoft/TypeScript/issues/299


<-- HTML

    What is the correct use of user-scalable-no? Should it appear only on the Model Viewer page and not be included in the _Layout.cshtml?
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">


<-- Modules1

    http://davidbcalhoun.com/2014/what-is-amd-commonjs-and-umd/

    What is the recommended way to split a module over multiple files?
        Using a d.ts file and 'export as namespace' works but it led to issues loading MR in require.js. 
            modelrelief.d.ts
                export as namespace MR

                export * from "fileA"
                export * from "fileB"

            MR is composed of multiple disk files. How is that handled with AMD modules in require.js?
                When TypeScript creates the AMD output, the module name is the disk file. There is no definition of MR as an aggregate.
                Is there a require.config that maps a module name to multiple separate modules?
                    MR -> fileA,fileB
            
            Can a module name have a period such as MR.Graphics?
                import * as MR.Graphics from "Graphics" led to an error.

            Can multiple modules be imported into the same alias? This construct is not valid.
                import * as MR from"Graphics"
                import * as MR from"Views"


<-- THREE.js Notes

    Object clone <only> copies Object3d properties.

    Object matrices are updated only during the render loop. The property matrixAutoUpdate enables this update but not update the matrix when dependent properties are changed.
        Use Object3d.updateMatrixWorld(true) to force an update.

    A Group can belong to only one Scene.
        let sceneA   = new THREE.Scene();
        let theGroup = new THREE.Group();
        sceneA.add(theGroup);

        let sceneB = new THREE.Scene();
        sceneB.add(theGroup);

<-- Licenses
    THREE.js
